buildscript {
	
    dependencies {
        classpath group: 'org.mulesoft.build', name: 'mule-gradle-plugin', version: '1.1.0'
    }

    repositories {
        maven {
            url 'http://repository.mulesoft.org/releases'
        }
    }
}

apply plugin: 'mule-domain'

mule.version = '3.5.0'

mule.domainName = 'sample-architecture'

mule.muleEnterprise = false

mule.installPath = '/Users/juancavallotti/mule/mulece350'

//dependencies that are shared between the modules, installed in the domain's lib dir.
dependencies {
    compile group: 'org.apache.activemq', name: 'activemq-all', version: '5.9.1'
}


//configure modules

//configuration for the API modules
project(':api') {
    apply plugin: 'mulestudio'

    mule.components{
        module(name: 'mule-module-apikit-plugin', version: '1.3', noClassifier: true)
    }
}

//configuration for the backend module
project(':backend') {
    mule.components {

        //include the new db module
        modules += 'db'

        //remove the jdbc transport
        transports -= 'jdbc'
    }

    //require derby
    dependencies {
        compile group: 'org.apache.derby', name: 'derby', version: '10.10.2.0'
    }
}